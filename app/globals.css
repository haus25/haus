@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Underground Bauhaus Core - Absolute Opposition */
    --background: 0 0% 100%; /* Pure white void */
    --foreground: 0 0% 0%;   /* Absolute black */

    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    /* Bauhaus Primary - Blood Red Disruption */
    --primary: 0 100% 50%; /* Pure #FF0000 */
    --primary-foreground: 0 0% 100%;

    /* Underground Secondary - Concrete Texture */
    --secondary: 0 0% 10%; /* #1A1A1A concrete */
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 70%;

    /* Electric Accent - Neon Rebellion */
    --accent: 120 100% 50%; /* #00FF00 electric */
    --accent-foreground: 0 0% 0%;

    /* Contrast - Pure Opposition */
    --contrast: 0 0% 0%; /* Absolute black */
    --contrast-foreground: 0 0% 100%;

    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 10%;
    --ring: 0 100% 50%; /* Red ring */

    --radius: 0rem; /* No curves - pure geometric */

    /* Underground Typography - Brutal Sans */
    --font-sans: var(--font-work-sans), "helvetica neue", helvetica, arial, sans-serif;
    --font-heading: var(--font-work-sans), "helvetica neue", helvetica, arial, sans-serif;
    --font-mono: "courier new", courier, monospace;
  }

  .dark {
    /* Dark Mode - Inverted Underground */
    --background: 0 0% 0%;   /* Absolute black void */
    --foreground: 0 0% 100%; /* Pure white */

    --card: 0 0% 5%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 5%;
    --popover-foreground: 0 0% 100%;

    /* Primary Red - Unchanged Pure Power */
    --primary: 0 100% 50%; /* Pure #FF0000 */
    --primary-foreground: 0 0% 100%;

    /* Underground Secondary - Darker Concrete */
    --secondary: 0 0% 15%; /* Darker concrete */
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 70%;

    /* Electric Accent - Maintained Rebellion */
    --accent: 120 100% 50%; /* #00FF00 electric */
    --accent-foreground: 0 0% 0%;

    /* Contrast - Inverted */
    --contrast: 0 0% 100%; /* Pure white */
    --contrast-foreground: 0 0% 0%;

    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 15%;
    --ring: 0 100% 50%; /* Red ring */
  }
}

@layer base {
  * {
    @apply border-border;
    text-transform: lowercase; /* brand mandate: no capitals anywhere */
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-medium tracking-tight;
  }
}

/* Optimized texture background with reduced opacity for better performance */
.texture-bg {
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23000000' fill-opacity='0.02' fill-rule='evenodd'/%3E%3C/svg%3E");
}

/* Add utility classes for Bauhaus-inspired design */
@layer utilities {
  /* remove forced uppercase; respect global lowercase */
  .bauhaus-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }

  .bauhaus-text {
    @apply tracking-wide font-medium;
  }

  .bauhaus-title {
    @apply text-2xl md:text-4xl font-bold tracking-tight;
  }

  /* glass and depth utilities (visual-only) */
  .glass-surface {
    background: hsl(var(--background) / 0.8);
    border: 1px solid hsl(var(--border) / 0.4);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }

  .glass-morphism {
    background: hsl(var(--background) / 0.6);
    border: 1px solid hsl(var(--border) / 0.3);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  .depth-subtle {
    box-shadow:
      0 1px 3px hsl(var(--foreground) / 0.06),
      0 2px 8px hsl(var(--foreground) / 0.04);
  }

  .depth-moderate {
    box-shadow:
      0 4px 12px hsl(var(--foreground) / 0.08),
      0 8px 24px hsl(var(--foreground) / 0.06);
  }

  .depth-dramatic {
    box-shadow:
      0 8px 24px hsl(var(--foreground) / 0.12),
      0 16px 48px hsl(var(--foreground) / 0.08);
  }

  .live-element {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform-style: preserve-3d;
    will-change: transform, filter;
  }

  /* underground live elements - objects with soul */
  .live-element {
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    transform-style: preserve-3d;
    will-change: transform, filter;
  }

  .live-element:hover {
    transform: translateY(-3px) translateZ(6px) scale(1.02) rotate(0.5deg);
    filter: brightness(1.1) saturate(1.2) contrast(1.05);
    box-shadow: 
      0 8px 32px rgba(255, 0, 0, 0.15),
      0 16px 64px rgba(0, 255, 0, 0.05);
  }

  /* asymmetric section layouts - preserve container alignment */
  .section-chaos {
    transform: skew(0.2deg) rotate(-0.1deg);
    margin: 2rem 0; /* remove negative margins causing edge collisions */
    padding: 2rem 0; /* let inner .container handle horizontal padding */
  }

  /* underground button mutations */
  .btn-underground {
    @apply px-6 py-3 font-bold tracking-wide; /* reduce weight for readability */
    background: linear-gradient(45deg, #000000, #1a1a1a);
    color: #ffffff;
    border: 2px solid #ff0000;
    transform: skew(-1deg) rotate(0.25deg);
    box-shadow: 3px 3px 0px #ff0000;
    transition: all 0.2s ease;
  }
  .btn-underground:hover {
    transform: skew(-0.5deg) rotate(-0.1deg) translateY(-2px);
    box-shadow: 5px 5px 0px #ff0000, 0 8px 16px rgba(255, 0, 0, 0.25);
    background: linear-gradient(45deg, #1a1a1a, #333333);
  }
  .btn-underground:active {
    transform: skew(-1deg) rotate(0.25deg) translateY(1px);
    box-shadow: 2px 2px 0px #ff0000;
  }

  /* electric accent elements */
  .electric-accent {
    color: #00ff00;
    text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
    animation: electric-flicker 2s infinite alternate;
  }

  @keyframes electric-flicker {
    0%, 100% {
      opacity: 1;
      text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
    }
    50% {
      opacity: 0.8;
      text-shadow: 0 0 5px #00ff00, 0 0 10px #00ff00;
    }
  }

  /* box shadow utilities */
  .box-shadow-brutal {
    box-shadow: 4px 4px 0px #ff0000;
  }

  /* disruption animations */
  .glitch {
    animation: glitch 3s infinite linear;
  }

  @keyframes glitch {
    0%, 99% { transform: none; }
    1% { transform: skew(0.5deg); }
    2% { transform: skew(-0.5deg); }
    3% { transform: none; }
    4% { transform: skew(0.2deg); }
    5% { transform: skew(-0.2deg); }
  }

  /* underground pulsing */
  .underground-pulse {
    animation: underground-pulse 4s ease-in-out infinite;
  }

  @keyframes underground-pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.02) rotate(0.2deg);
    }
  }
}

/* Layout helpers to bring back sane defaults without altering copy/UX */
@layer components {
  /* section titles */
  .underground-title {
    @apply text-3xl md:text-5xl font-bold tracking-tight; /* avoid extra-bold */
  }

  /* decorative underline with safe contrast */
  .graffiti-underline {
    position: relative;
  }
  .graffiti-underline::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.35rem;
    width: 40%;
    height: 3px;
    background: hsl(var(--primary));
  }

  /* hand-drawn container aesthetic */
  .handdrawn-box {
    @apply bg-card border border-border;
    box-shadow:
      0 1px 3px hsl(var(--foreground) / 0.06),
      0 4px 12px hsl(var(--foreground) / 0.05);
  }

  /* subtle scribble texture */
  .scribble-bg {
    background-image: radial-gradient(hsl(var(--foreground) / 0.05) 1px, transparent 1px);
    background-size: 12px 12px;
  }

  /* bottom divider line */
  .graffiti-line {
    background: linear-gradient(to right, hsl(var(--border)), transparent);
  }

  /* support grid used in categories */
  .underground-grid {
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 1.25rem;
  }
  @media (min-width: 640px) {
    .underground-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
  @media (min-width: 1024px) {
    .underground-grid {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
}

/* Tone down extreme bold globally to improve readability */
@layer utilities {
  .font-black { font-weight: 800 !important; }
}
